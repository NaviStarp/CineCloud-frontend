<div
    (mouseenter)="isHovered = true"
    (mouseleave)="isHovered = false"
    [ngClass]="{
        'border-primary-600 scale-105 shadow-lg': isHovered
    }"
    class="bg-neutral-800 border border-neutral-700 rounded-lg shadow-md overflow-hidden cursor-pointer hover:bg-neutral-700 transition-all transform duration-300"
    (click)="selectEpisode(episode)">
    <div class="flex flex-col md:flex-row">
        <!-- Imagen del episodio -->
        <div class="relative w-full md:w-48 h-48 md:h-auto flex-shrink-0">
            <img
                [src]="episode.imagen || episode.imageUrl"
                [alt]="episode.titulo || episode.title"
                class="w-64 h-32 object-cover transition-transform duration-300"
                [ngClass]="{ 'scale-110': isHovered }"
                onerror="this.src='/assets/images/no-image.jpg'">
            <fa-icon *ngIf="isHovered" [icon]="faPlay" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-4xl"></fa-icon>
            <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-50"></div>
            <div *ngIf="episode.duracion || episode.duration" class="absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-md">
                {{ episode.duracion || episode.duration }} min
            </div>
            <!--Barra de progreso-->
            <div class="absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-primary-500 to-primary-400" [style.width.%]="progress"></div>
        </div>
        <!-- Información del episodio -->
        <div class="p-4 flex-grow">
            <div class="flex justify-between items-start">
                <div>
                    <h3 class="text-lg font-semibold text-white">
                        {{ episode.titulo || episode.title }}
                    </h3>
                    <p class="text-sm text-neutral-400 mt-1">
                        Episodio {{ episode.numero || episode.number }}
                    </p>
                </div>
            </div>
            <p class="text-sm text-neutral-300 mt-3">
                {{ episode.descripcion || episode.description || 'Sin descripción' }}
            </p>
        </div>
    </div>
</div>