<div [formGroup]="formGroup">
    <label [for]="id" class="block text-sm font-medium text-neutral-300 mb-1">{{ label }}</label>
    <div class="group relative transition-all duration-300 focus-within:scale-[1.01]">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg *ngIf="icon === 'user'" class="h-5 w-5 text-primary-400 group-focus-within:text-primary-300 transition-colors" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"></path>
            </svg>
            <svg *ngIf="icon === 'lock'" class="h-5 w-5 text-primary-400 group-focus-within:text-primary-300 transition-colors" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
      </svg>
    </div>
    <input
      [id]="id"
      [type]="type"
      [formControlName]="controlName"
      required
      class="pl-10 block w-full rounded-xl border border-neutral-600/70 py-3 px-3 text-neutral-200 bg-neutral-700/50 placeholder-neutral-500 shadow-sm focus:ring-2 focus:ring-primary-500/70 focus:border-primary-500/70 focus:bg-neutral-700/70 transition-all valid:border-green-500/70 valid:ring-green-500/30 invalid:border-red-500/70 invalid:ring-red-500/30"
      [placeholder]="placeholder"
    >
  </div>
  <div *ngIf="isInvalid" class="text-xs text-accent-400 mt-1 pl-1">
    {{ errorMessage }}
  </div>
</div>